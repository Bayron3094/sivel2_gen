<%= f.association :presponsable,
  collection: Presponsable.from('caso_presponsable, presponsable').where(
    'caso_presponsable.id_presponsable=presponsable.id 
      AND caso_presponsable.id_caso=?', @caso.id),
  wrapper_html: { style: "padding-bottom: 18px;" },
  label_method: :nombre,
  value_method: :id 
%>

<%= f.association :categoria,
  collection: Categoria.habilitados.where(
    "id_tviolencia<>'R'").reorder(:id_tviolencia, :id),
  label: "Categoria",
  label_method: lambda {|t| t.id_tviolencia + t.id.to_s + ' ' + t.nombre },
  value_method: :id 
%>

<%= f.association :persona,
  collection: Persona.from('victima, persona').where(
    'victima.id_persona=persona.id AND victima.id_caso=?', @caso.id),
  label: "VÃ­ctima",
  label_method: lambda {|t| t.nombres + ' ' + t.apellidos},
  value_method: :id 
%>

