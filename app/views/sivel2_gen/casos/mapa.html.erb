<!DOCTYPE html>
<html>
  <head>
    <% stylesheet_link_tag "stylesheets/sivel2_gen/mapa.css" %>
    <title>Mapa de violaciones a los derechos humanos e infracciones al
      derecho internacional humanitario</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script type="text/javascript"
            src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js">
    </script>
  </head>
  <body class= "body_map">
    <div class= "page-header">
      <h1>Mapa de Casos</h1>
    </div>  
    <div id="container_map">
      <div id="map_canvas"></div>
      <div id="settings_canvas">
        <form name="settings" onsubmit="addCases(true); return false;">
          <div class= "container">
            <div class= "row">
              <div class="col-sm">
                <input class= "input_map" name="num" type="hidden" value="200" />
                <h3>Fecha</h3>
                <div class="settings_element">
                  <div>Desde:</div>
                  <div>
                    <input type="text" name="desde" class="input_map"
                                                    id="inputDesde"
                                                    value=""
                                                    size="11"/>
                  </div>
                </div>
                <div class="settings_element">
                  <div>Hasta:</div>
                  <div>
                    <input type="text" name="hasta" class="input_map"
                                                    id="inputHasta"
                                                    value=""
                                                    size="11"/>
                  </div>
                </div>
              </div>
              <div class="col-sm">
                <h3>Localizaci√≥n</h3>
                <div class="settings_element">
                  <div>Dep:</div>
                  <div>
                    <select name="departamento" class="select_map"
                                                id="departamento"
                                                style="width:140px;">
                      <option value="0">Mostrar todos</option>
                      <option value="">-----------------------</option>
                      <%= options_for_select(Sip::Departamento.habilitados.where(id_pais: 170).all.collect { |d| [d.nombre, d.id ] })
                    %> 
                  </select>
                  </div>
                </div>
                <div class="clear"></div>
              </div>
              <div class="col-sm">
                <h3>Otros Filtros</h3>
                <div class="settings_element">
                  <div>P. Resp:</div>
                  <div>
                    <select name="prresp" class="select_map" id="presponsable" style="width:150px;">
                      <option value="0">Mostrar todos</option>
                      <option value="">-----------------------</option>
                      <%= options_for_select(Sivel2Gen::Presponsable.all.collect { |d| [d.nombre, d.id ] }) %>
                    </select>
                  </div>
                </div>
                <div class="settings_element">
                  <div>Violencia:</div>
                  <div>
                    <select name="tvio" class="select_map" id="tvio" style="width:150px;">
                      <option value="0">Mostrar todos</option>
                      <option value="">-----------------------</option>
                      <%= options_for_select(Sivel2Gen::Categoria.all.collect { |d| [d.nombre, d.id ] })%>
                    </select>
                  </div>
                </div>

                <div class="settings_element">
                  <div>Etiqueta:</div>
                  <div>
                    <select name="etiqueta" class="select_map" id="etiqueta" style="width:150px;">
                      <option value="0">Mostrar todos</option>

                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class= container">
            <div class="submit_box">
              <input type="button" class="button" value="Filtrar casos"
                                                  onclick="addCases(true); return false;"/>
              <span id="nrcasos" class="nrcasos"></span>
              <div id="loader" class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
              </div>

            </div>
          </div>
        </form>
      </div>

    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <% javascript_include_tag "javascript/sivel2_gen/mapag/mapag.js.erb" %>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDVATZz-dHXuzNkySAo1O2VQ30ixzhwf7w&language=es&region=CO&callback=initialize">
    </script>

  </body>

</html>
